//******************************************
//FILE: pot.c
//
// DESCRIPTION
//
// AUTHOR
// Jialiang Liu (jliu174@asu.edu)
// Derek Janzen (djanzen@asu.edu)
//CSE 325 Embedded System 2015 Fall
// Electrical Engineering
// Arizona State University
//*****************************************
#include "adc.h"
#include "pot.h"

//======================================================================================================================
// Private Global Variable Defintions
//======================================================================================================================

static uint16_t g_digval;
static uint16_t g_prev_digval;

//======================================================================================================================
// Public Function Declarations
//======================================================================================================================

//----------------------------------------------------------------------------------------------------------------------
// FUNCTION: pot_get_curr_state()
//---------------------------------------------------------------------------------------------------------------------
uint16_t pot_get_curr_state()
{
    g_prev_digval = g_digval;
    g_digval = adc_convert();
    return g_digval;
}

//----------------------------------------------------------------------------------------------------------------------
// FUNCTION: pot_get_prev_state()
//---------------------------------------------------------------------------------------------------------------------
uint16_t pot_get_prev_state()
{
    return g_prev_digval;
}

//----------------------------------------------------------------------------------------------------------------------
// FUNCTION: pot_init()
//---------------------------------------------------------------------------------------------------------------------
void pot_init()
{
    g_digval = 0;
    g_prev_digval = 4095;
}


